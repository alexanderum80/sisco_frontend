<png-progress-spinner *ngIf="loading"></png-progress-spinner>

<div class="content">
  <png-panel
    class="h-full w-full"
    header="Información Estadística de la Conciliación Contable">
    <form [formGroup]="fg">
      <div class="flex m-2">
        <png-dropdown
          class="w-25rem mr-3"
          [fg]="fg"
          control="idDivision"
          label="División"
          [optionsValues]="divisionesValues"
          placeholder="Seleccione la División"
          [filter]="true"
          [required]="true"
          [showClear]="true"></png-dropdown>
        <png-calendar
          [fg]="fg"
          label="Período"
          control="periodo"
          view="month"
          dateFormat="MM/yy"
          [required]="true"></png-calendar>
      </div>
    </form>
    <div class="conciliacion-detalle shadow-1 mt-3">
      <png-table
        [columns]="displayedColumns"
        [data]="dataSource"
        groupField="Division"
        [filterData]="false"
        [scrollable]="true"
        [totalizeTable]="true"
        [totalizeGroup]="true"
        scrollHeight="calc(100vh - 255px)"></png-table>
    </div>
    <div class="flex justify-content-end mt-2">
      <png-button
        class="mr-1"
        label="Conciliar"
        [style]="'primary'"
        icon="mdi mdi-file-check-outline"
        [disabled]="!fg.valid"
        (clicked)="conciliar()"></png-button>
      <png-button
        class="mr-2"
        label="Reporte"
        [style]="'secondary'"
        icon="mdi mdi-printer"
        [disabled]="!dataSource.length"
        (clicked)="reporte()"></png-button>
    </div>
  </png-panel>
</div>
